### å‰ç½®æ¡ä»¶

- âœ… Git ä»“åº“
- âœ… ä»£ç†è½¯ä»¶ï¼ˆå¦‚æœåœ¨ä¸­å›½å¤§é™†ï¼‰
- âœ… Google AI Studio API Key


## ğŸš€ å®Œæ•´å®‰è£…æµç¨‹


### æ­¥éª¤ 1: å…¨å±€å®‰è£… GitAnalyzer å¯åŠ¨æœåŠ¡

```bash
# åœ¨ GitAnalyzer ç›®å½•ä¸­è¿è¡Œ
cd /path/to/GitAnalyzer
bash .git-scripts-install/git-analyzer-global-installer.sh

# é‡æ–°åŠ è½½ shell é…ç½®
source ~/.zshrc
```


### æ­¥éª¤ 2: é…ç½® Gemini API

```bash
# è¿è¡Œé…ç½®å‘å¯¼
cd /path/to/GitAnalyzer
./setup_gemini_api.sh
```

**é…ç½®å‘å¯¼ä¼šï¼š**
1. æç¤ºä½ è¾“å…¥ API Keyï¼ˆä» https://aistudio.google.com/app/apikey è·å–ï¼‰
2. è‡ªåŠ¨æµ‹è¯• API Key æ˜¯å¦æœ‰æ•ˆ
3. æ›´æ–°é¡¹ç›®é…ç½®æ–‡ä»¶
4. éƒ¨ç½²æ–°çš„åˆ†æè„šæœ¬


### æ­¥éª¤ 3: æ³¨å†Œé¡¹ç›®

åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸­è¿è¡Œï¼š

```bash
cd /path/to/your/project
register.sh
```

è¿™ä¼šï¼š
- åˆ›å»º Git post-commit é’©å­
- åˆ›å»ºé¡¹ç›®é…ç½®æ–‡ä»¶
- åœ¨ GitAnalyzer ä¸­åˆ›å»ºé¡¹ç›®æ—¥å¿—ç›®å½•
- åˆ†æç›®å½•

### æ­¥éª¤ 4: å¯åŠ¨æœåŠ¡

```bash
git-analyzer-start
```


## ğŸ“ é¡¹ç›®é…ç½®

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`é¡¹ç›®æ ¹ç›®å½•/.git-scripts-logs/.git-analyzer-config.json`

```json
{
  "enabled": true,   // è®¢é˜…çš„ Gemini API
  "output_base_dir": "code_summaries", // ä»£ç æ‘˜è¦ç›®å½•
  "gemini_model": "gemini-2.0-flash", // ä½¿ç”¨çš„æ¨¡å‹
  "gemini_api_key": "YOUR_API_KEY_HERE", // API Key
  "max_diff_size": 50000, // æœ€å¤§å·®å¼‚å¤§å°
  "timeout_seconds": 120, // API è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  "http_proxy": "http://127.0.0.1:7897", // HTTP ä»£ç†åœ°å€
  "https_proxy": "http://127.0.0.1:7897", // HTTPS ä»£ç†åœ°å€
  "notification": {
    "show_success": true, // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
    "show_errors": true // æ˜¾ç¤ºé”™è¯¯é€šçŸ¥
  }
}
```

**é‡è¦é…ç½®é¡¹è¯´æ˜ï¼š**

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `enabled` | ä½¿ç”¨å¼€å…³ | `true` |
| `gemini_model` | ä½¿ç”¨çš„æ¨¡å‹ | `gemini-2.0-flash` |
| `gemini_api_key` | API Keyï¼ˆå¿…å¡«ï¼‰ | - |
| `http_proxy` | HTTP ä»£ç†åœ°å€ | `http://127.0.0.1:7897` |
| `https_proxy` | HTTPS ä»£ç†åœ°å€ | `http://127.0.0.1:7897` |
| `timeout_seconds` | API è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | 120 |

**å¯ç”¨çš„æ¨¡å‹ï¼š**
- `gemini-2.5-flash` - æœ€æ–°æœ€å¿«
- `gemini-2.0-flash` - æ¨èï¼Œé€Ÿåº¦å¿«
- `gemini-2.5-pro` - æ›´å¼ºå¤§ï¼Œä½†è¾ƒæ…¢

---

### è‡ªåŠ¨åˆ†æ

æ¯æ¬¡æäº¤ä»£ç æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘åˆ†æï¼š

```bash
git add .
git commit -m "ä½ çš„æäº¤ä¿¡æ¯"
# ğŸš€ ä»£ç åˆ†æå·²åœ¨åå°å¯åŠ¨...
```

### æŸ¥çœ‹åˆ†æç»“æœ

**æŸ¥çœ‹æ—¥å¿—ï¼š**
```bash
# å®æ—¶æŸ¥çœ‹
tail -f ~/GitAnalyzer/é¡¹ç›®å/analyzer.log

# æŸ¥çœ‹æœ€è¿‘50è¡Œ
tail -50 ~/GitAnalyzer/é¡¹ç›®å/analyzer.log
```

**æŸ¥çœ‹åˆ†ææŠ¥å‘Šï¼š**
```bash
# åˆ†ææŠ¥å‘Šä¿å­˜åœ¨
ls ~/GitAnalyzer/é¡¹ç›®å/code_summaries/

# æŸ¥çœ‹æœ€æ–°æŠ¥å‘Š
ls -lt ~/GitAnalyzer/é¡¹ç›®å/code_summaries/ | head -5
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### æœåŠ¡ç®¡ç†

```bash
git-analyzer-start    # å¯åŠ¨æœåŠ¡
git-analyzer-stop     # åœæ­¢æœåŠ¡
git-analyzer-status   # æŸ¥çœ‹çŠ¶æ€
git-analyzer-list     # åˆ—å‡ºå·²æ³¨å†Œé¡¹ç›®
```

### é¡¹ç›®ç®¡ç†

```bash
# æ³¨å†Œé¡¹ç›®
cd /path/to/project
register.sh

# æ³¨é”€é¡¹ç›®
cd /path/to/project
unregister.sh
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: API è°ƒç”¨å¤±è´¥

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤º API è°ƒç”¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ä»£ç†è®¾ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ä»£ç†è½¯ä»¶æ­£åœ¨è¿è¡Œ
4. æµ‹è¯•ç½‘ç»œè¿æ¥ï¼š
   ```bash
   export http_proxy="http://127.0.0.1:7897"
   export https_proxy="http://127.0.0.1:7897"
   curl -s "https://generativelanguage.googleapis.com/v1/models?key=YOUR_API_KEY"
   ```

### é—®é¢˜ 2: åˆ†ææŠ¥å‘Šæœªç”Ÿæˆ

**å¯èƒ½åŸå› **:
- æœåŠ¡æœªå¯åŠ¨
- é¡¹ç›®é…ç½®ä¸­ `enabled` ä¸º false
- API Key æ— æ•ˆ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
git-analyzer-status

# 2. æ£€æŸ¥é¡¹ç›®é…ç½®
cat .git-scripts-logs/.git-analyzer-config.json

# 3. æŸ¥çœ‹æ—¥å¿—
tail -50 ~/GitAnalyzer/é¡¹ç›®å/analyzer.log
```

### é—®é¢˜ 3: ä»£ç†ä¸å·¥ä½œ

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤ºè¿æ¥è¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ä»£ç†ç«¯å£æ­£ç¡®ï¼ˆé»˜è®¤ 7897ï¼‰
2. ç¡®è®¤ä»£ç†è½¯ä»¶æ­£åœ¨è¿è¡Œ
3. æµ‹è¯•ä»£ç†ï¼š
   ```bash
   curl -x http://127.0.0.1:7897 https://www.google.com
   ```
4. æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„ä»£ç†è®¾ç½®

### é—®é¢˜ 4: æ¨¡å‹ä¸å¯ç”¨ (404 é”™è¯¯)

**ç—‡çŠ¶**: API è¿”å› 404ï¼Œæç¤ºæ¨¡å‹ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥è¯¢å¯ç”¨æ¨¡å‹ï¼š
   ```bash
   export http_proxy="http://127.0.0.1:7897"
   curl -s "https://generativelanguage.googleapis.com/v1/models?key=YOUR_API_KEY" | \
   jq -r '.models[] | select(.supportedGenerationMethods[] | contains("generateContent")) | .name'
   ```
2. æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„ `gemini_model` ä¸ºå¯ç”¨æ¨¡å‹

---